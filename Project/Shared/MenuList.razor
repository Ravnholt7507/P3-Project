@inherits AdminFunctionality
<div>
    <label>
        <input @bind="newCategory" placeholder="Indtast kategori" />
    </label>

    <button @onclick="UpdateList">
        Update underkategorier
    </button>


    <label>
        <input @bind="newTitle" placeholder="Indtast Titel" />
    </label>

    <button @onclick="Insert">
        Update Titler
    </button>

    <br />

    @*<label>
        <input @bind="addItem" placeholder="Tilføj et produkt" />
    </label>

    <button @onclick="updateItem">
        Opdater titler
    </button>*@

</div>

@for (int i = 0; i < Categories.Count; i++)
{
    <button class="w3-bar-Subcategory w3-button" @onclick="Dropdownbtn"><i class="fa fa-bars"></i><a>@Categories[i].CategoryName</a></button>
    <div class="dropdown-content2">
        @for (int k = 0; k < Categories[i].Subcategory.Count; k++)
        {
            <button class="w3-bar-Subcategory w3-button">@Categories[i].Subcategory[k].SubcategoryName</button>
        }

    </div>


}
<style>
    .dropdown-content2 {
        display: none;
        display: @Visible;
    }
    .dropdown-content2 a{
        margin-left: 10px;
    }

</style>

@*
    Code for categories
*@
@code {
    public string newTitle = null;
    public string newCategory = null;

    public class Category
    {
        public string CategoryName;
        public Category(string Name)
        {
            CategoryName = Name;
        }
        public List<Subcategory> Subcategory = new List<Subcategory>();
    }

    public class Subcategory
    {
        public string SubcategoryName;
        public Subcategory(string Name)
        {
            SubcategoryName = Name;
        }
    }

    public List<Category> Categories = new List<Category>();
    private Category selectedCategory = null;

    public void UpdateList()
    {
        selectedCategory = new Category(newCategory);
        Categories.Add(new Category(newCategory));
    }

    public void Insert()
    {
        foreach (Category category in Categories)
        {
            if (category.CategoryName == selectedCategory.CategoryName)
            {
                category.Subcategory.Add(new Subcategory(newTitle));
            }
        }
    }

    private string Visible;
    private int i = 1;

    private void Dropdownbtn()
    {
        i++;
        if (i % 2 == 0)
        {
            Visible = "block";
        }
        else
        {
            Visible = "none";
        }
    }


}

@*
Code for itemlist

color array:
    0 = black
    1 = white
    2 = blue
    3 = green
    4 = red
    5 = yellow
    6 = purple
    7 = brown
    8 = grey
    9 = pink
    10 = orange

sizes array:
    0 = xxs
    1 = xs
    2 = s
    3 = m
    4 = l
    5 = xl
    6 = xxl
*@